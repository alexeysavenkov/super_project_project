version: '3'
services:

    # Application base image
    #
    # This image contains:
    #
    #  - PHP runtime
    #  - PHP extensions
    #  - Composer packages
    #
    base:
        # Specify a tag name for your base image here:
        image: yii2-base-myapp:1.0
        build: ./

    # Composer utilty to manage composer packages
    #
    # You will usually only ever run one of these commands:
    #
    #  docker-compose run --rm composer require [...]
    #  docker-compose run --rm composer update [...]
    #
    # When changing packages you must rebuild the base container.
    #
    composer:
        image: composer
        volumes:
            - ./:/app
        entrypoint: composer
